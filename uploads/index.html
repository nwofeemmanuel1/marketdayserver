<!-- <!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="file" id="fileUpload" />
    <script>
        const handleImageUpload = async (event) => {
            // console.log(event.target.files[0])
            const files = event.target.files
            const formData = new FormData()
            formData.append('myFile', files[0])

            const response = await fetch('/api/users/listings/post', {
                method: 'POST',
                body: formData
            })

            const result = await response.text()
            console.log(result)

        }

        document.querySelector('#fileUpload').addEventListener('change', event => {
            handleImageUpload(event)
        })
    </script>
</body>

</html>





<script>

 const createFormData = (photo, body) => {
  const data = new FormData();

   data.append('photo', {
     name: photo.fileName,
     type: photo.type,
     uri:
       Platform.OS === 'android' ? photo.uri : photo.uri.replace('file://', ''),
   });

  Object.keys(body).forEach((key) => {
    data.append(key, body[key]);
   });

   return data;
};























// handleUploadPhoto = () => {
//   fetch('http://localhost:3000/api/upload', {
//     method: 'POST',
//     body: createFormData(this.state.photo, { userId: '123' }),
//   })
//     .then((response) => response.json())
//     .then((response) => {
//       console.log('upload succes', response);
//       alert('Upload success!');
//       this.setState({ photo: null });
//     })
//     .catch((error) => {
//       console.log('upload error', error);
//       alert('Upload failed!');
//     });
// };

</script>




<!-- 

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>uploadimage</title>
</head>
<body>
    <script>
    const createFormData = (photo, body) => {
        const data = new FormData();

        data.append('photo', {
            name: photo.name,
            size:photo.size,
            type: photo.type,
            uri:photo.name
            // uri:
            //     Platform.OS === 'android' ? photo.uri : photo.uri.replace('file://', ''),
        });

        Object.keys(body).forEach((key) => {
            data.append(key, body[key]);
        });

        return data;
    };




    

handleUploadPhoto = (photo) => {
  fetch('http://localhost:5000/api/list', {
    method: 'POST',
    body: createFormData(photo, { userId: '123' }),
  })
    .then((response) => response.text())
    .then((response) => {
      console.log('upload succes', response);
      alert('Upload success!');
      this.setState({ photo: null });
    })
    .catch((error) => {
      console.log('upload error', error);
      alert('Upload failed!');
    });
};



    checkphoto=()=>{
        event.preventDefault()
const file=document.getElementById("file").files
handleUploadPhoto(file[0])
console.log(file[0].name)
    }
    </script>
   <form>
       <input type="file" name="file" id="file" >
       <input type="submit" onclick="checkphoto()">
   </form> 
</body>
</html>









 --> -->
















<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <input type="file" id="fileUpload" />
    <script>
        const handleImageUpload = async (event) => {
        //     const formData = new FormData()
        //     //  Blob, event.target.files[0]
        //      const blob = new File([], { type: event.target.files[0].type,  })
        //      blob.append({name:event.target.files[0].name})
        //    console.log(blob)
           
            // var File=new()
            // [event.target.files[0].size, event.target.files[0].type], { name: event.target.files[0].name, size: event.target.files[0].size, type: event.target.files[0].type }, text = { name: event.target.files[0].name }
            // console.log(event.target.files[0],blob )
            // console.log(  event.target.files[0], formData.append("photo",new Blob([file=File=[{name: event.target.files[0].name, size: event.target.files[0].size,type:event.target.files[0].type, webkitRelativePath:""}]],{type: event.target.files[0].type},{contentType: event.target.files[0].type}  )))
            // const files = event.target.files
            // const formData = new FormData()
            // formData.append('myFile',files[0])
            // files = { name: event.target.files[0].name, size: event.target.files[0].size, type: event.target.files[0].type }, name = event.target.files[0].name, size = event.target.files[0].size, type = event.target.files[0].type

            // const response = await fetch('/api/users/listings/post', {
            //     method: 'POST',
            //     body:blob
            // })

            // const result = await response.text()
            // console.log(result)
            // alert(event.target.files[0].name)
 const response= await fetch(event.target.files[0].name)
 console.log(response)
        }

        document.querySelector('#fileUpload').addEventListener('change', event => {
            handleImageUpload(event)
        })
    </script>
</body>

</html>